id: controller
resources:
- id: role_data{{index}}
  from: f2s/resources/role_data
  location: '{{node}}'
  values:
    env: '{{env}}'
    puppet_modules: /etc/puppet/modules
    uid: '{{index}}'
- id: fuel_pkgs{{index}}
  from: f2s/resources/fuel_pkgs
  location: '{{node}}'
  values_from: role_data{{index}}
- id: logging{{index}}
  from: f2s/resources/logging
  location: '{{node}}'
  values_from: role_data{{index}}
- id: tools{{index}}
  from: f2s/resources/tools
  location: '{{node}}'
  values_from: role_data{{index}}
- id: umm{{index}}
  from: f2s/resources/umm
  location: '{{node}}'
  values_from: role_data{{index}}
- id: netconfig{{index}}
  from: f2s/resources/netconfig
  location: '{{node}}'
  values_from: role_data{{index}}
- id: connectivity_tests{{index}}
  from: f2s/resources/connectivity_tests
  location: '{{node}}'
  values_from: role_data{{index}}
- id: firewall{{index}}
  from: f2s/resources/firewall
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ssl-keys-saving{{index}}
  from: f2s/resources/ssl-keys-saving
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ssl-add-trust-chain{{index}}
  from: f2s/resources/ssl-add-trust-chain
  location: '{{node}}'
  values_from: role_data{{index}}
- id: hosts{{index}}
  from: f2s/resources/hosts
  location: '{{node}}'
  values_from: role_data{{index}}
- id: cluster{{index}}
  from: f2s/resources/cluster
  location: '{{node}}'
  values_from: role_data{{index}}
- id: cluster_health{{index}}
  from: f2s/resources/cluster_health
  location: '{{node}}'
  values_from: role_data{{index}}
- id: cluster-vrouter{{index}}
  from: f2s/resources/cluster-vrouter
  location: '{{node}}'
  values_from: role_data{{index}}
- id: virtual_ips{{index}}
  from: f2s/resources/virtual_ips
  location: '{{node}}'
  values_from: role_data{{index}}
- id: conntrackd{{index}}
  from: f2s/resources/conntrackd
  location: '{{node}}'
  values_from: role_data{{index}}
- id: cluster-haproxy{{index}}
  from: f2s/resources/cluster-haproxy
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-radosgw{{index}}
  from: f2s/resources/openstack-haproxy-radosgw
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-swift{{index}}
  from: f2s/resources/openstack-haproxy-swift
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-nova{{index}}
  from: f2s/resources/openstack-haproxy-nova
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-glance{{index}}
  from: f2s/resources/openstack-haproxy-glance
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-sahara{{index}}
  from: f2s/resources/openstack-haproxy-sahara
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-cinder{{index}}
  from: f2s/resources/openstack-haproxy-cinder
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-keystone{{index}}
  from: f2s/resources/openstack-haproxy-keystone
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-murano{{index}}
  from: f2s/resources/openstack-haproxy-murano
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-stats{{index}}
  from: f2s/resources/openstack-haproxy-stats
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-ironic{{index}}
  from: f2s/resources/openstack-haproxy-ironic
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-heat{{index}}
  from: f2s/resources/openstack-haproxy-heat
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-neutron{{index}}
  from: f2s/resources/openstack-haproxy-neutron
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-mysqld{{index}}
  from: f2s/resources/openstack-haproxy-mysqld
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-horizon{{index}}
  from: f2s/resources/openstack-haproxy-horizon
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy-ceilometer{{index}}
  from: f2s/resources/openstack-haproxy-ceilometer
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-haproxy{{index}}
  from: f2s/resources/openstack-haproxy
  location: '{{node}}'
  values_from: role_data{{index}}
- id: dns-server{{index}}
  from: f2s/resources/dns-server
  location: '{{node}}'
  values_from: role_data{{index}}
- id: database{{index}}
  from: f2s/resources/database
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ceilometer-controller{{index}}
  from: f2s/resources/ceilometer-controller
  location: '{{node}}'
  values_from: role_data{{index}}
- id: rabbitmq{{index}}
  from: f2s/resources/rabbitmq
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ironic-api{{index}}
  from: f2s/resources/ironic-api
  location: '{{node}}'
  values_from: role_data{{index}}
- id: apache{{index}}
  from: f2s/resources/apache
  location: '{{node}}'
  values_from: role_data{{index}}
- id: api-proxy{{index}}
  from: f2s/resources/api-proxy
  location: '{{node}}'
  values_from: role_data{{index}}
- id: glance{{index}}
  from: f2s/resources/glance
  location: '{{node}}'
  values_from: role_data{{index}}
- id: memcached{{index}}
  from: f2s/resources/memcached
  location: '{{node}}'
  values_from: role_data{{index}}
- id: keystone{{index}}
  from: f2s/resources/keystone
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-cinder{{index}}
  from: f2s/resources/openstack-cinder
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-controller{{index}}
  from: f2s/resources/openstack-controller
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-start{{index}}
  from: f2s/resources/openstack-network-start
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-common-config{{index}}
  from: f2s/resources/openstack-network-common-config
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-server-config{{index}}
  from: f2s/resources/openstack-network-server-config
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-plugins-l2{{index}}
  from: f2s/resources/openstack-network-plugins-l2
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-agents-l3{{index}}
  from: f2s/resources/openstack-network-agents-l3
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-server-nova{{index}}
  from: f2s/resources/openstack-network-server-nova
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-agents-dhcp{{index}}
  from: f2s/resources/openstack-network-agents-dhcp
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-agents-metadata{{index}}
  from: f2s/resources/openstack-network-agents-metadata
  location: '{{node}}'
  values_from: role_data{{index}}
- id: openstack-network-end{{index}}
  from: f2s/resources/openstack-network-end
  location: '{{node}}'
  values_from: role_data{{index}}
- id: heat{{index}}
  from: f2s/resources/heat
  location: '{{node}}'
  values_from: role_data{{index}}
- id: horizon{{index}}
  from: f2s/resources/horizon
  location: '{{node}}'
  values_from: role_data{{index}}
- id: murano{{index}}
  from: f2s/resources/murano
  location: '{{node}}'
  values_from: role_data{{index}}
- id: sahara{{index}}
  from: f2s/resources/sahara
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ceph-mon{{index}}
  from: f2s/resources/ceph-mon
  location: '{{node}}'
  values_from: role_data{{index}}
- id: ceph-radosgw{{index}}
  from: f2s/resources/ceph-radosgw
  location: '{{node}}'
  values_from: role_data{{index}}
- id: swift{{index}}
  from: f2s/resources/swift
  location: '{{node}}'
  values_from: role_data{{index}}
- id: controller_remaining_tasks{{index}}
  from: f2s/resources/controller_remaining_tasks
  location: '{{node}}'
  values_from: role_data{{index}}
- id: vmware-vcenter{{index}}
  from: f2s/resources/vmware-vcenter
  location: '{{node}}'
  values_from: role_data{{index}}
- id: swift-rebalance-cron{{index}}
  from: f2s/resources/swift-rebalance-cron
  location: '{{node}}'
  values_from: role_data{{index}}
events:
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: fuel_pkgs{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: logging{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: tools{{index}}.run
- type: depends_on
  state: success
  parent_action: logging{{index}}.run
  depend_action: tools{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: umm{{index}}.run
- type: depends_on
  state: success
  parent_action: tools{{index}}.run
  depend_action: umm{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: netconfig{{index}}.run
- type: depends_on
  state: success
  parent_action: tools{{index}}.run
  depend_action: netconfig{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: connectivity_tests{{index}}.run
- type: depends_on
  state: success
  parent_action: netconfig{{index}}.run
  depend_action: connectivity_tests{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: firewall{{index}}.run
- type: depends_on
  state: success
  parent_action: netconfig{{index}}.run
  depend_action: firewall{{index}}.run
- type: depends_on
  state: success
  parent_action: connectivity_tests{{index}}.run
  depend_action: firewall{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ssl-keys-saving{{index}}.run
- type: depends_on
  state: success
  parent_action: firewall{{index}}.run
  depend_action: ssl-keys-saving{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ssl-add-trust-chain{{index}}.run
- type: depends_on
  state: success
  parent_action: firewall{{index}}.run
  depend_action: ssl-add-trust-chain{{index}}.run
- type: depends_on
  state: success
  parent_action: ssl-keys-saving{{index}}.run
  depend_action: ssl-add-trust-chain{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: hosts{{index}}.run
- type: depends_on
  state: success
  parent_action: netconfig{{index}}.run
  depend_action: hosts{{index}}.run
- type: depends_on
  state: success
  parent_action: connectivity_tests{{index}}.run
  depend_action: hosts{{index}}.run
- type: depends_on
  state: success
  parent_action: ssl-add-trust-chain{{index}}.run
  depend_action: hosts{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: cluster{{index}}.run
- type: depends_on
  state: success
  parent_action: firewall{{index}}.run
  depend_action: cluster{{index}}.run
- type: depends_on
  state: success
  parent_action: hosts{{index}}.run
  depend_action: cluster{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: cluster_health{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster{{index}}.run
  depend_action: cluster_health{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: cluster-vrouter{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster{{index}}.run
  depend_action: cluster-vrouter{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: virtual_ips{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster{{index}}.run
  depend_action: virtual_ips{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-vrouter{{index}}.run
  depend_action: virtual_ips{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: conntrackd{{index}}.run
- type: depends_on
  state: success
  parent_action: virtual_ips{{index}}.run
  depend_action: conntrackd{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: cluster-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster{{index}}.run
  depend_action: cluster-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: virtual_ips{{index}}.run
  depend_action: cluster-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-radosgw{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-radosgw{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-swift{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-swift{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-nova{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-nova{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-glance{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-glance{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-sahara{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-sahara{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-murano{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-murano{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-stats{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-stats{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-ironic{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-ironic{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-heat{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-heat{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-neutron{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-neutron{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-mysqld{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-mysqld{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-horizon{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-horizon{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy-ceilometer{{index}}.run
- type: depends_on
  state: success
  parent_action: cluster-haproxy{{index}}.run
  depend_action: openstack-haproxy-ceilometer{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-ceilometer{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-radosgw{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-horizon{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-nova{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-mysqld{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-glance{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-heat{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-sahara{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-cinder{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-keystone{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-murano{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-stats{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-ironic{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-swift{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy-neutron{{index}}.run
  depend_action: openstack-haproxy{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: dns-server{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: dns-server{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: database{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: database{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ceilometer-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: ceilometer-controller{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=ceilometer-keystone
  depend_action: ceilometer-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: rabbitmq{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: rabbitmq{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ironic-api{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: ironic-api{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=ironic-db
  depend_action: ironic-api{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=ironic-keystone
  depend_action: ironic-api{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: apache{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: apache{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: api-proxy{{index}}.run
- type: depends_on
  state: success
  parent_action: apache{{index}}.run
  depend_action: api-proxy{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent_action: rabbitmq{{index}}.run
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent_action: database{{index}}.run
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=glance-keystone
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=glance-db
  depend_action: glance{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: memcached{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: memcached{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: apache{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: memcached{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: rabbitmq{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: database{{index}}.run
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=keystone-db
  depend_action: keystone{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: firewall{{index}}.run
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: keystone{{index}}.run
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: hosts{{index}}.run
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: rabbitmq{{index}}.run
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=cinder-keystone
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=cinder-db
  depend_action: openstack-cinder{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-cinder{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: database{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: ceilometer-controller{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: rabbitmq{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: keystone{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: ironic-api{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: glance{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-haproxy{{index}}.run
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=nova-keystone
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=nova-db
  depend_action: openstack-controller{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent_action: netconfig{{index}}.run
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-controller{{index}}.run
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=ironic-compute
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=neutron-keystone
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=neutron-db
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=top-role-compute
  depend_action: openstack-network-start{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-common-config{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-start{{index}}.run
  depend_action: openstack-network-common-config{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-server-config{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-common-config{{index}}.run
  depend_action: openstack-network-server-config{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-plugins-l2{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-server-config{{index}}.run
  depend_action: openstack-network-plugins-l2{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-common-config{{index}}.run
  depend_action: openstack-network-plugins-l2{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-agents-l3{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-plugins-l2{{index}}.run
  depend_action: openstack-network-agents-l3{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=openstack-network-networks
  depend_action: openstack-network-agents-l3{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=openstack-network-routers
  depend_action: openstack-network-agents-l3{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-server-nova{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-l3{{index}}.run
  depend_action: openstack-network-server-nova{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-agents-dhcp{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-l3{{index}}.run
  depend_action: openstack-network-agents-dhcp{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-server-nova{{index}}.run
  depend_action: openstack-network-agents-dhcp{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-common-config{{index}}.run
  depend_action: openstack-network-agents-dhcp{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-agents-metadata{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-l3{{index}}.run
  depend_action: openstack-network-agents-metadata{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-server-nova{{index}}.run
  depend_action: openstack-network-agents-metadata{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-dhcp{{index}}.run
  depend_action: openstack-network-agents-metadata{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-common-config{{index}}.run
  depend_action: openstack-network-agents-metadata{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-common-config{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-server-config{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-metadata{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-server-nova{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-l3{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-plugins-l2{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-agents-dhcp{{index}}.run
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=neutron-keystone
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=openstack-network-networks
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=neutron-db
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=openstack-network-compute-nova
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=openstack-network-routers
  depend_action: openstack-network-end{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: heat{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-controller{{index}}.run
  depend_action: heat{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=heat-db
  depend_action: heat{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=heat-keystone
  depend_action: heat{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: horizon{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-controller{{index}}.run
  depend_action: horizon{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent_action: heat{{index}}.run
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent_action: horizon{{index}}.run
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent_action: rabbitmq{{index}}.run
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=murano-rabbitmq
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=murano-keystone
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=murano-db
  depend_action: murano{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: sahara{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-network-end{{index}}.run
  depend_action: sahara{{index}}.run
- type: depends_on
  state: success
  parent_action: horizon{{index}}.run
  depend_action: sahara{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=sahara-keystone
  depend_action: sahara{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=sahara-db
  depend_action: sahara{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ceph-mon{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-controller{{index}}.run
  depend_action: ceph-mon{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: ceph-radosgw{{index}}.run
- type: depends_on
  state: success
  parent_action: apache{{index}}.run
  depend_action: ceph-radosgw{{index}}.run
- type: depends_on
  state: success
  parent_action: ceph-mon{{index}}.run
  depend_action: ceph-radosgw{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: swift{{index}}.run
- type: depends_on
  state: success
  parent_action: ceilometer-controller{{index}}.run
  depend_action: swift{{index}}.run
- type: depends_on
  state: success
  parent_action: openstack-controller{{index}}.run
  depend_action: swift{{index}}.run
- type: depends_on
  state: success
  parent:
    action: run
    with_tags:
    - resource=swift-keystone
  depend_action: swift{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: ceph-radosgw{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: api-proxy{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: murano{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: sahara{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: ceph-mon{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: swift{{index}}.run
  depend_action: controller_remaining_tasks{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: vmware-vcenter{{index}}.run
- type: depends_on
  state: success
  parent_action: controller_remaining_tasks{{index}}.run
  depend_action: vmware-vcenter{{index}}.run
- type: depends_on
  state: success
  parent_action: role_data{{index}}.run
  depend_action: swift-rebalance-cron{{index}}.run
- type: depends_on
  state: success
  parent_action: swift{{index}}.run
  depend_action: swift-rebalance-cron{{index}}.run
